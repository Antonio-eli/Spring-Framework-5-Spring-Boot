<!doctype html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<body>
	<script type="text/javascript" th:fragment="js">
		$(function() {
		    $("#buscar_producto").autocomplete({
		    	source: function(requets, response){
		    		$.ajax({
		    			url: "/factura/cargar-productos/" + request.term,
		    			dataType: "jason",
		    			data: {
		    				term: request.term
		    			},
		    			success: function(data){
		    				response($.map(data, function(item){
		    					return {
		    						value: item.id,
		    						label: item.nombre,
		    						precio: item.precio,
		    					};
		    				}));
		    			}, 
		    		});
		    	},
		    	select: function(event, ui){
		    		$("#buscar_producto").val(ui.item.label);
		    		return false;
		    	}
		    });
		});
	</script>
</body>

</html>